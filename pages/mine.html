<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSC Chain - Mining Platform</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/mining-modern.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/img/logo.png">
</head>
<body>
    <!-- Header -->
    <header class="mining-header">
        <div class="header-background">
            <div class="header-particles"></div>
            <div class="header-gradient"></div>
        </div>
        
        <div class="header-container">
            <div class="logo-section">
                <div class="logo-container">
                    <div class="logo">
                        <div class="logo-icon">
                            <div class="logo-inner">
                                <div class="logo-symbol">RSC</div>
                                <div class="logo-glow"></div>
                            </div>
                        </div>
                        <div class="logo-rings">
                            <div class="ring ring-1"></div>
                            <div class="ring ring-2"></div>
                            <div class="ring ring-3"></div>
                        </div>
                    </div>
                    <div class="logo-text">
                        <h1 class="platform-title">
                            <span class="title-main">RSC</span>
                            <span class="title-sub">Mining Platform</span>
                        </h1>
                        <p class="platform-subtitle">
                            <span class="subtitle-icon">‚ö°</span>
                            La primera plataforma de miner√≠a web antes del mainnet
                        </p>
                        <div class="platform-badges">
                            <span class="badge badge-primary">Web Mining</span>
                            <span class="badge badge-secondary">Simulated</span>
                            <span class="badge badge-accent">Pre-Mainnet</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="header-actions">
                <div class="status-panel">
                    <div class="status-indicator">
                        <div class="status-dot">
                            <div class="pulse-ring"></div>
                        </div>
                        <div class="status-text">
                            <span class="status-label">Mainnet</span>
                            <span class="status-value">Futuramente</span>
                        </div>
                    </div>
                    
                    <div class="demo-badge">
                        <div class="demo-icon">
                            <i class="fas fa-hammer"></i>
                            <div class="demo-glow"></div>
                        </div>
                        <div class="demo-text">
                            <span class="demo-label">Mining Activo</span>
                            <span class="demo-desc">mining Activa</span>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn-help" id="helpBtn">
                        <i class="fas fa-question-circle"></i>
                        <span>Ayuda</span>
                        <div class="btn-glow"></div>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="header-bottom">
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="mining-main">
        <div class="container">
            <!-- Authentication Section -->
            <section class="auth-section" id="authSection">
                <div class="auth-container">
                    <div class="auth-header">
                        <h2>üîê Acceso Seguro</h2>
                        <p>Inicia sesi√≥n o reg√≠strate para comenzar a minar RSC</p>
                    </div>
                    
                    <!-- Login Form -->
                    <form class="auth-form" id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <div class="input-wrapper">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="loginEmail" placeholder="tu@email.com" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="loginPassword">Contrase√±a</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                                <button type="button" class="toggle-password" id="toggleLoginPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-primary btn-full">
                            <i class="fas fa-sign-in-alt"></i>
                            Iniciar Sesi√≥n
                        </button>
                    </form>
                    
                    <!-- Register Form -->
                    <form class="auth-form hidden" id="registerForm">
                        <div class="form-group">
                            <label for="registerEmail">Email</label>
                            <div class="input-wrapper">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="registerEmail" placeholder="tu@email.com" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerUsername">Nombre de Usuario</label>
                            <div class="input-wrapper">
                                <i class="fas fa-user"></i>
                                <input type="text" id="registerUsername" placeholder="minero123" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerPassword">Contrase√±a</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                                <button type="button" class="toggle-password" id="toggleRegisterPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength" id="passwordStrength"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="registerWallet">Wallet (Opcional)</label>
                            <div class="input-wrapper">
                                <i class="fas fa-wallet"></i>
                                <input type="text" id="registerWallet" placeholder="0x...">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-primary btn-full">
                            <i class="fas fa-user-plus"></i>
                            Crear Cuenta
                        </button>
                    </form>
                    
                    <!-- Form Toggle -->
                    <div class="form-toggle">
                        <span id="toggleText">¬øNo tienes cuenta?</span>
                        <button type="button" class="btn-link" id="toggleFormBtn">Reg√≠strate aqu√≠</button>
                    </div>
                </div>
            </section>

            <!-- Mining Dashboard -->
            <section class="mining-dashboard hidden" id="miningDashboard">
                <!-- User Info -->
                <div class="user-info-card">
                    <div class="user-avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="user-details">
                        <h3 id="userUsername">Usuario</h3>
                        <p id="userEmail">email@ejemplo.com</p>
                        <div class="user-stats">
                            <span class="stat">
                                <i class="fas fa-coins"></i>
                                <span id="userBalance">0.00000000 RSC</span>
                            </span>
                            <span class="stat">
                                <i class="fas fa-hammer"></i>
                                <span id="userMiningPower">1.0x</span>
                            </span>
                        </div>
                    </div>
                    <button class="btn-secondary" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        Cerrar Sesi√≥n
                    </button>
                </div>

                <!-- Mining Controls -->
                <div class="mining-controls">
                    <div class="control-card">
                        <div class="control-header">
                            <h3>‚õèÔ∏è Control de Miner√≠a</h3>
                            <div class="mining-status" id="miningStatus">
                                <span class="status-dot offline"></span>
                                <span class="status-text">Detenido</span>
                            </div>
                        </div>
                        
                        <div class="control-actions">
                            <button class="btn-success btn-large" id="startMiningBtn">
                                <i class="fas fa-play"></i>
                                Iniciar Miner√≠a
                            </button>
                            <button class="btn-danger btn-large hidden" id="stopMiningBtn">
                                <i class="fas fa-stop"></i>
                                Detener Miner√≠a
                            </button>
                        </div>
                        
                        <div class="mining-info">
                            <div class="info-item">
                                <span class="label">Dificultad:</span>
                                <span class="value" id="currentDifficulty">1.0x</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Hash Rate:</span>
                                <span class="value" id="currentHashRate">0 H/s</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Bloques Encontrados:</span>
                                <span class="value" id="blocksFound">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mining Session -->
                <div class="mining-session hidden" id="miningSession">
                    <div class="session-card">
                        <div class="session-header">
                            <h3>üìä Sesi√≥n Activa</h3>
                            <div class="session-timer" id="sessionTimer">00:00:00</div>
                        </div>
                        
                        <div class="session-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="sessionProgress"></div>
                            </div>
                            <div class="progress-labels">
                                <span>Inicio</span>
                                <span id="sessionDuration">0 min</span>
                            </div>
                        </div>
                        
                        <!-- Hash Visualization -->
                        <div class="hash-visualization">
                            <div class="hash-header">
                                <h4>üîó Hash en Tiempo Real</h4>
                                <span class="hash-count">Hashes: <span id="hashCount">0</span></span>
                            </div>
                            <div class="hash-display" id="hashDisplay">0000000000000000000000000000000000000000000000000000000000000000</div>
                        </div>
                        
                        <div class="session-stats">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-coins"></i>
                                </div>
                                <div class="stat-content">
                                    <span class="stat-value" id="sessionTokens">0.00000000</span>
                                    <span class="stat-label">RSC Ganados</span>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-tachometer-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <span class="stat-value" id="sessionEfficiency">0%</span>
                                    <span class="stat-label">Eficiencia</span>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-content">
                                    <span class="stat-value" id="estimatedReward">0.00000000</span>
                                    <span class="stat-label">Estimado por Hora</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mainnet Preparation -->
                <div class="mainnet-preparation">
                    <div class="mainnet-card">
                        <div class="mainnet-header">
                            <h3>üöÄ Preparaci√≥n para Mainnet</h3>
                            <div class="mainnet-countdown" id="mainnetCountdown">
                                <span class="countdown-item">
                                    <span class="countdown-value" id="mainnetDays">0</span>
                                    <span class="countdown-label">D√≠as</span>
                                </span>
                                <span class="countdown-item">
                                    <span class="countdown-value" id="mainnetHours">0</span>
                                    <span class="countdown-label">Horas</span>
                                </span>
                                <span class="countdown-item">
                                    <span class="countdown-value" id="mainnetMinutes">0</span>
                                    <span class="countdown-label">Min</span>
                                </span>
                                <span class="countdown-item">
                                    <span class="countdown-value" id="mainnetSeconds">0</span>
                                    <span class="countdown-label">Seg</span>
                                </span>
                            </div>
                        </div>
                        
                        <div class="mainnet-progress">
                            <div class="progress-header">
                                <span>Progreso de Desarrollo</span>
                                <span id="mainnetProgress">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="mainnetProgressFill"></div>
                            </div>
                            <div class="progress-phase" id="mainnetPhase">Desarrollo Inicial</div>
                        </div>
                        
                        <div class="mainnet-features">
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Miner√≠a Simulada</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Sistema de Referidos</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-clock"></i>
                                <span>Wallet Integration</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-clock"></i>
                                <span>Transacciones Reales</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Referral System -->
                <div class="referral-system">
                    <div class="referral-card">
                        <div class="referral-header">
                            <h3>üë• Sistema de Referidos</h3>
                            <div class="referral-stats">
                                <span class="referral-count">Referidos: <span id="referralCount">0</span></span>
                                <span class="referral-earnings">Ganado: <span id="referralEarnings">0.00000000 RSC</span></span>
                            </div>
                        </div>
                        
                        <div class="referral-content">
                            <div class="referral-code-section">
                                <label>Tu C√≥digo de Referido:</label>
                                <div class="referral-code-display">
                                    <input type="text" id="referralCode" readonly value="RSC_1234567890">
                                    <button class="btn-secondary" id="copyReferralBtn">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                                <p class="referral-info">Comparte este c√≥digo y gana 10% de las ganancias de tus referidos</p>
                                
                                <!-- Usar c√≥digo de referido -->
                                <div class="use-referral-section">
                                    <label>¬øTienes un c√≥digo de referido?</label>
                                    <div class="referral-input-section">
                                        <input type="text" id="referralInput" placeholder="RSC_1234567890">
                                        <button class="btn-primary" id="useReferralBtn">
                                            <i class="fas fa-gift"></i>
                                            Usar C√≥digo
                                        </button>
                                    </div>
                                    <p class="referral-info">Usa un c√≥digo de referido para ganar bonificaciones</p>
                                </div>
                            </div>
                            
                            <div class="referral-benefits">
                                <h4>Beneficios del Sistema de Referidos:</h4>
                                <ul>
                                    <li>üéØ 10% de las ganancias de cada referido</li>
                                    <li>üìà Bonificaciones por alcanzar hitos</li>
                                    <li>üèÜ Acceso prioritario al mainnet</li>
                                    <li>üíé RSC extra para usuarios activos</li>
                                </ul>
                                
                                <!-- C√≥digos de demostraci√≥n -->
                                <div class="demo-codes-section">
                                    <h5>üß™ C√≥digos de Prueba (Demo):</h5>
                                    <div class="demo-codes">
                                        <div class="demo-code-item">
                                            <span class="demo-username">CryptoMiner:</span>
                                            <code class="demo-code">RSC_demo_user_1_1703123456789</code>
                                            <button class="btn-copy-small" onclick="copyToClipboard('RSC_demo_user_1_1703123456789')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                        <div class="demo-code-item">
                                            <span class="demo-username">BlockChainPro:</span>
                                            <code class="demo-code">RSC_demo_user_2_1703123456790</code>
                                            <button class="btn-copy-small" onclick="copyToClipboard('RSC_demo_user_2_1703123456790')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                        <div class="demo-code-item">
                                            <span class="demo-username">HashMaster:</span>
                                            <code class="demo-code">RSC_demo_user_3_1703123456791</code>
                                            <button class="btn-copy-small" onclick="copyToClipboard('RSC_demo_user_3_1703123456791')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <p class="demo-info">Usa estos c√≥digos para probar el sistema de referidos</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mining Statistics Table -->
                <div class="mining-stats-table">
                    <div class="stats-table-card">
                        <div class="stats-table-header">
                            <div class="stats-table-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3 class="stats-table-title">Estad√≠sticas de Miner√≠a</h3>
                        </div>
                        
                        <div class="stats-table-content">
                            <div class="stats-section">
                                <h4 class="section-title">üåê Red Global</h4>
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <span class="stat-label">Mineros Activos:</span>
                                        <span class="stat-value table-number" id="activeMiners">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Poder Total:</span>
                                        <span class="stat-value table-number" id="totalMiningPower">0.0x</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Dificultad:</span>
                                        <span class="stat-value table-percentage" id="networkDifficulty">1.0x</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-section">
                                <h4 class="section-title">üìä Estad√≠sticas 24h</h4>
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <span class="stat-label">Bloques Minados:</span>
                                        <span class="stat-value table-number" id="blocks24h">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">RSC Minados:</span>
                                        <span class="stat-value table-currency" id="rsc24h">0.00000000</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Tiempo Promedio:</span>
                                        <span class="stat-value table-number" id="avgBlockTime">0s</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-section">
                                <h4 class="section-title">üë§ Mi Rendimiento</h4>
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <span class="stat-label">Hash Rate:</span>
                                        <span class="stat-value table-number" id="hashRate">0 H/s</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Eficiencia:</span>
                                        <span class="stat-value table-percentage" id="efficiency">0%</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Bloques Encontrados:</span>
                                        <span class="stat-value table-number" id="blocksMined">0</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-section">
                                <h4 class="section-title">‚è±Ô∏è Uso de Miner√≠a</h4>
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <span class="stat-label">Sesiones Totales:</span>
                                        <span class="stat-value table-number" id="miningSessions">0</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Tiempo Total:</span>
                                        <span class="stat-value table-number" id="totalMiningTime">0s</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Sesi√≥n Actual:</span>
                                        <span class="stat-value table-number" id="currentSession">0h 0m</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="recent-activity">
                    <div class="activity-table">
                        <div class="activity-header">
                            <div class="activity-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3 class="activity-title">Actividad Reciente</h3>
                            <button class="btn-secondary" id="refreshActivityBtn">
                                <i class="fas fa-sync-alt"></i>
                                Actualizar
                            </button>
                        </div>
                        
                        <div class="activity-list" id="activityList">
                            <div class="activity-item">
                                <div class="activity-icon-small info">
                                    <i class="fas fa-info-circle"></i>
                                </div>
                                <div class="activity-content">
                                    <p class="activity-message">Inicia una sesi√≥n de miner√≠a para ver tu actividad</p>
                                    <p class="activity-time">Ahora</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Notifications -->
    <div class="notifications-container" id="notificationsContainer"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Cargando...</p>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal-overlay hidden" id="helpModal">
        <div class="modal">
            <div class="modal-header">
                <h3>‚ùì Ayuda - RSC Mining</h3>
                <button class="modal-close" id="closeHelpModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="help-section">
                    <h4>üöÄ ¬øC√≥mo empezar?</h4>
                    <ol>
                        <li>Reg√≠strate con tu email y contrase√±a</li>
                        <li>Inicia sesi√≥n en tu cuenta</li>
                        <li>Haz clic en "Iniciar Miner√≠a"</li>
                        <li>¬°Mant√©n la pesta√±a abierta para minar!</li>
                    </ol>
                </div>
                
                <div class="help-section">
                    <h4>‚õèÔ∏è ¬øC√≥mo funciona la miner√≠a?</h4>
                    <ul>
                        <li>La miner√≠a es autom√°tica una vez iniciada</li>
                        <li>Ganas RSC basado en tiempo y poder de miner√≠a</li>
                        <li>L√≠mite diario: 2 RSC m√°ximo</li>
                        <li>Dificultad se ajusta autom√°ticamente</li>
                    </ul>
                </div>
                
                <div class="help-section">
                    <h4>üîí Seguridad</h4>
                    <ul>
                        <li>Contrase√±as hasheadas con PBKDF2</li>
                        <li>Salt √∫nico por usuario</li>
                        <li>Protecci√≥n contra ataques de fuerza bruta</li>
                        <li>Auditor√≠a completa de todas las acciones</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Configuraci√≥n de Supabase -->
    <script src="../scripts/supabase-config-simple.js"></script>
    <!-- Sistema de autenticaci√≥n enterprise -->
    <script src="../scripts/rsc-mining-auth-system.js"></script>
    <!-- Motor de miner√≠a simulada revolucionario -->
    <script src="../scripts/rsc-simulated-mining-engine.js"></script>
    <!-- Interfaz moderna de miner√≠a -->
    <script src="../scripts/mining-modern-ui.js"></script>
    
    <!-- Funciones de utilidad -->
    <script>
        // Funci√≥n para copiar c√≥digos al portapapeles
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                // Mostrar notificaci√≥n de √©xito
                if (window.miningUI) {
                    window.miningUI.showNotification('success', 'Copiado', 'C√≥digo copiado al portapapeles');
                }
            } catch (error) {
                console.warn('Error al copiar:', error);
                // Fallback para navegadores m√°s antiguos
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                if (window.miningUI) {
                    window.miningUI.showNotification('success', 'Copiado', 'C√≥digo copiado al portapapeles');
                }
            }
        }
    </script>
</body>
</html>
